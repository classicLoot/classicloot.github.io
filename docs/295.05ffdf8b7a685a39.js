"use strict";(self.webpackChunkclassicloot=self.webpackChunkclassicloot||[]).push([[295],{9612:(O,b,g)=>{g.d(b,{b:()=>u});var e=g(4004),t=g(5e3),v=g(3342),h=g(9808);const w=function(o){return{selected:o}};function c(o,p){if(1&o){const a=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const f=t.CHM(a).$implicit,C=t.oxw(2).ngIf;return t.oxw().handleClick(f.class,C.class)}),t.qZA()}if(2&o){const a=p.$implicit,l=t.oxw(2).ngIf;t.Udp("background-image","url(../../../../assets/icons/large/"+a.img+".jpg)"),t.Q6J("ngClass",t.VKq(3,w,l.class===a.class))}}function m(o,p){if(1&o){const a=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"div",6),t.NdJ("click",function(){t.CHM(a);const _=t.oxw().ngIf;return t.oxw().handleClick("all",_.class)}),t.qZA(),t.TgZ(3,"div",7),t.NdJ("click",function(){t.CHM(a);const _=t.oxw().ngIf;return t.oxw().handleClick("all",_.class)}),t.qZA(),t.YNc(4,c,1,5,"div",8),t.qZA()()}if(2&o){const a=t.oxw().ngIf,l=t.oxw();t.xp6(2),t.Udp("background-image","url(../../../../assets/icons/large/inv_misc_questionmark.jpg)"),t.xp6(1),t.Udp("background-image","url(../../../../assets/icons/large/inv_misc_questionmark.jpg)"),t.Q6J("ngClass",t.VKq(6,w,"all"===a.class)),t.xp6(1),t.Q6J("ngForOf",l.classArr)}}const P=function(o,p){return{selected:o,active:p}};function M(o,p){if(1&o){const a=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.NdJ("click",function(){return t.CHM(a),t.oxw().toggleOpen()}),t.qZA(),t.YNc(2,m,5,8,"div",3),t.qZA()}if(2&o){const a=p.ngIf,l=t.oxw();t.xp6(1),t.Udp("background-image","url(../../../../assets/icons/large/"+a.img+".jpg)"),t.Q6J("ngClass",t.WLB(4,P,"all"!=a.class,l.bOpen)),t.xp6(1),t.Q6J("ngIf",l.bOpen)}}let u=(()=>{class o{constructor(a,l,_){this.filterStore=a,this.elementRef=l,this.renderer=_,this.count=0,this.bOpen=!1,this.classArr=[{class:"Deathknight",img:"class_deathknight"},{class:"Druid",img:"class_druid"},{class:"Hunter",img:"class_hunter"},{class:"Mage",img:"class_mage"},{class:"Paladin",img:"class_paladin"},{class:"Priest",img:"class_priest"},{class:"Rogue",img:"class_rogue"},{class:"Shaman",img:"class_shaman"},{class:"Warlock",img:"class_warlock"},{class:"Warrior",img:"class_warrior"}],this.class$=this.filterStore.class$,this.classWithImg$=this.class$.pipe((0,e.U)(f=>this.classArr.find(k=>k.class===f)||{class:"all",img:"inv_misc_questionmark"}))}ngOnInit(){}handleClick(a,l){this.filterStore.updateClass("all"===a?a:a===l?"all":a),this.close()}toggleOpen(){this.bOpen?(this.unlistener(),this.close()):(this.open(),this.unlistener=this.renderer.listen("document","click",a=>{this.count>0?(this.close(),this.unlistener()):this.count++}))}open(){this.bOpen=!0,this.count=0}close(){this.bOpen=!1}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(v.e),t.Y36(t.SBq),t.Y36(t.Qsj))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-filter-class"]],decls:2,vars:3,consts:[["class","base",4,"ngIf"],[1,"base"],[1,"image-base",3,"ngClass","click"],["class","border overlay",4,"ngIf"],[1,"border","overlay"],[1,"grid"],[1,"image-base","image-big","first",3,"click"],[1,"image-base","image-big",3,"ngClass","click"],["class","image-base image-big",3,"background-image","ngClass","click",4,"ngFor","ngForOf"]],template:function(a,l){1&a&&(t.YNc(0,M,3,7,"div",0),t.ALo(1,"async")),2&a&&t.Q6J("ngIf",t.lcZ(1,1,l.classWithImg$))},directives:[h.O5,h.mk,h.sg],pipes:[h.Ov],styles:[".image-base[_ngcontent-%COMP%]{width:24px;height:24px;background-image:url(class_deathknight.fb55acd2f7abad09.jpg);background-size:contain;border-radius:var(--button-rectangle-border-radius);border-style:var(--button-outline-border-style);border-width:var(--button-outline-border-width);text-transform:var(--button-outline-text-transform);background-color:var(--button-outline-basic-background-color);border-color:var(--button-outline-basic-border-color);color:var(--button-outline-basic-text-color);filter:brightness(50%);cursor:pointer}.image-base[_ngcontent-%COMP%]:hover{filter:brightness(125%)}.image-big[_ngcontent-%COMP%]{width:42px;height:42px}.active[_ngcontent-%COMP%]{border-color:var(--button-outline-warning-border-color);filter:brightness(100%)}.selected[_ngcontent-%COMP%]{filter:brightness(100%)}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;grid-template-rows:auto;align-self:stretch;width:100%;grid-gap:2px;gap:2px}.first[_ngcontent-%COMP%]{visibility:hidden}.base[_ngcontent-%COMP%]{position:relative}.overlay[_ngcontent-%COMP%]{position:absolute;z-index:25}"]}),o})()},811:(O,b,g)=>{g.d(b,{Q:()=>W});var e=g(5e3),t=g(4198),v=g(3342),h=g(9808),w=g(4343);let c=(()=>{class n{transform(s,r){return"all"===r||(4==+s.wowClass?this.checkArmor(s,r)&&this.checkClass(s,r)&&this.checkStats(s,r):2==+s.wowClass?this.checkWeapon(s,r)&&this.checkClass(s,r)&&this.checkStats(s,r):11==+s.wowClass?["Hunter"].includes(r):15!=+s.wowClass||![4,-2].includes(+s.wowSubClass)||this.checkClass(s,r))}checkClass(s,r){[4,2,11].includes(+s.wowClass);const x=s.htmlTooltip.replace("\\","");let S=[];return[...x.matchAll(/(<a href="\?class=\d*" class="\w\d*">(\w* {0,1}\w*)<\/a>)/g)].forEach(T=>{S.push("Death Knight"===T[2]?"Deathknight":T[2])}),!(S.length>0)||S.includes(r)}checkStats(s,r){const i=s.htmlTooltip.replace("\\","");return[...i.matchAll(/<!--stat1-->/g)].length>0&&console.log("1111"),[...i.matchAll(/<!--stat2-->/g)].length>0&&console.log("2222"),!([...i.matchAll(/<!--stat3-->/g)].length>0&&["Mage","Priest","Warlock"].includes(r)||[...i.matchAll(/<!--stat4-->/g)].length>0&&["Hunter","Mage","Priest","Warlock"].includes(r)||[...i.matchAll(/<!--stat5-->/g)].length>0&&["Deathknight","Rogue","Warrior"].includes(r)||[...i.matchAll(/<!--stat6-->/g)].length>0&&["Deathknight","Rogue","Warrior"].includes(r)||(i.matchAll(/<!--stat7-->/g),[...i.matchAll(/<!--stat8-->/g)].length>0&&console.log("8888"),[...i.matchAll(/defense rating/g)].length>0&&[,"Hunter","Mage","Priest","Rogue","Shaman","Warlock"].includes(r))||[...i.matchAll(/spell power/g)].length>0&&["Deathknight","Hunter","Rogue","Warrior"].includes(r)||[...i.matchAll(/attack power/g)].length>0&&["Mage","Priest","Warlock"].includes(r)||[...i.matchAll(/mana per 5/g)].length>0&&["Deathknight","Rogue","Warrior"].includes(r)||[...i.matchAll(/armor penetration/g)].length>0&&["Mage","Priest","Warlock"].includes(r)||[...i.matchAll(/dodge rating/g)].length>0&&["Hunter","Mage","Priest","Shaman","Warlock"].includes(r))}checkArmor(s,r){switch(+s.wowSubClass){case 1:return["Druid","Mage","Paladin","Priest","Shaman","Warlock"].includes(r);case 2:return["Deathknight","Druid","Hunter","Paladin","Rogue","Shaman","Warrior"].includes(r);case 3:return["Deathknight","Hunter","Paladin","Shaman","Warrior"].includes(r);case 4:return["Deathknight","Paladin","Warrior"].includes(r);case 6:return["Paladin","Warrior","Shaman"].includes(r);case 7:return["Paladin"].includes(r);case 8:return["Druid"].includes(r);case 9:return["Shaman"].includes(r);case 10:return["Deathknight"].includes(r);case-5:return["Druid","Mage","Paladin","Priest","Shaman","Warlock"].includes(r)}return!0}checkWeapon(s,r){if(20==+s.wowSubClass)return!0;switch(r){case"Deathknight":case"Paladin":return[0,1,4,5,6,7,8].includes(+s.wowSubClass);case"Druid":return[4,5,10,13,15,20].includes(+s.wowSubClass);case"Hunter":return[0,1,2,3,6,7,8,10,13,15,18,19].includes(+s.wowSubClass);case"Mage":case"Warlock":return[7,10,15,19].includes(+s.wowSubClass);case"Priest":return[4,10,15,19].includes(+s.wowSubClass);case"Rogue":return[0,2,3,4,7,13,15,16,18].includes(+s.wowSubClass);case"Shaman":return[0,1,4,5,10,13,15].includes(+s.wowSubClass);case"Warrior":return[0,1,2,3,4,5,6,7,8,10,13,15,16,18].includes(+s.wowSubClass)}return!0}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275pipe=e.Yjl({name:"itemVisibility",type:n,pure:!0}),n})();function u(n){switch(+n){case 1:return"Head";case 2:return"Neck";case 3:return"Shoulder";case 5:return"Chest";case 6:return"Waist";case 7:return"Legs";case 8:return"Feet";case 9:return"Wrist";case 10:return"Hands";case 11:return"Finger";case 12:return"Trinket";case 13:return"One-Hand";case 14:case 22:return"Off Hand";case 15:return"Ranged";case 16:return"Back";case 17:return"Two-Hand";case 18:return"Bag";case 21:return"Main Hand";case 25:return"Thrown";case 28:return"Relic";default:return"SlotNYI"}}let f=(()=>{class n{transform(s,...r){const i=`${s.wowClass} | ${s.wowSubClass} | ${s.slot}`;switch(+s.wowClass){case-69:return"Spell";case 0:return function p(n){return[45506,45786,45784,45788,45787,45038,45857].includes(+n.id)?"Quest Item":"Consumable"}(s);case 1:return"Container";case 2:return function P(n){switch(+n.wowSubClass){case 0:return u(n.slot)+", Axe";case 1:return"Two-handed, Axe";case 2:return"Ranged, Bow";case 3:return"Ranged, Gun";case 4:return u(n.slot)+", Mace";case 5:return"Two-handed, Mace";case 6:return u(n.slot)+", Polearm";case 7:return u(n.slot)+", Sword";case 8:return"Two-handed, Sword";case 10:return"Two-handed, Staff";case 13:return u(n.slot)+", Fist Weapon";case 15:return u(n.slot)+", Dagger";case 16:return"Ranged, Thrown";case 18:return"Ranged, Crossbow";case 19:return"Ranged, Wand";case 20:return"Fishing Pole";default:return"Weapon - NYI"}}(s);case 3:return"Gem";case 4:return function M(n){switch(+n.wowSubClass){case 1:return u(n.slot)+", Cloth";case 2:return u(n.slot)+", Leather";case 3:return u(n.slot)+", Mail";case 4:return u(n.slot)+", Plate";case 6:return u(n.slot)+", Shield";case 7:return u(n.slot)+", Libram";case 8:return u(n.slot)+", Idol";case 9:return u(n.slot)+", Totem";case 10:return u(n.slot)+", Sigil";case-2:return"Ring";case-3:return"Neck";case-4:return"Trinket";case-5:return"Held In Off-Hand";case-6:return"Cloak";case-7:return"Tabard";case-8:return"Shirt";default:return"*Armor* - NYI"}}(s);case 6:return function a(n){switch(+n.wowSubClass){case 2:return"Projectile - Arrow";case 3:return"Projectile - Bullet"}return"Projectile - NYI "+n.wowSubClass}(s);case 7:return"Trade Goods";case 9:return function m(n){const d="Recipe -";switch(+n.wowSubClass){case 1:return d+" Leatherworking";case 2:return d+" Tailoring";case 3:return d+" Engineering";case 4:return d+" Blacksmithing";case 10:return d+" Jewelcrafting";default:return"Recipe - NYI"}}(s);case 10:return"Currency";case 11:return function l(n){switch(+n.wowSubClass){case 2:return"Quiver";case 3:return"Ammo Pouch"}return"Quiver - NYI "+n.wowSubClass}(s);case 12:return"Quest Item";case 13:return"Key";case 15:return function o(n){switch(+n.wowSubClass){case 0:return"Misc, Junk";case 2:return"Pet";case 4:return"Armor Token";case 5:return"Mount";case-2:return"Armor Token";case-7:return"Flying Mount";default:return"Misc - NYI"}}(s);case 16:return function _(n){switch(+n.wowSubClass){case 1:return"Glyph - Warrior";case 2:return"Glyph - Paladin";case 3:return"Glyph - Hunter";case 4:return"Glyph - Rogue";case 5:return"Glyph - Priest";case 6:return"Glyph - Deathknight";case 7:return"Glyph - Shaman";case 8:return"Glyph - Mage";case 9:return"Glyph - Warlock";case 11:return"Glyph - Druid"}return"Glyph - NYI"+n.wowSubClass}(s);default:return"NYI - "+i}}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275pipe=e.Yjl({name:"itemSubtext",type:n,pure:!0}),n})();function C(n,d){1&n&&e._UZ(0,"nb-icon",8)}function k(n,d){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const s=e.oxw(2);e.xp6(1),e.hij("*",s.item.ilvl,"*")}}const y=function(n){return{inactive:n}};function I(n,d){if(1&n){const s=e.EpF();e.TgZ(0,"div",1),e.ALo(1,"itemVisibility"),e._UZ(2,"img",2),e.TgZ(3,"div",3),e.NdJ("mousemove",function(i){return e.CHM(s),e.oxw().onMouseEvent(i,"move")})("mouseenter",function(i){return e.CHM(s),e.oxw().onMouseEvent(i,"enter")})("mouseleave",function(i){return e.CHM(s),e.oxw().onMouseEvent(i,"leave")}),e.TgZ(4,"a",4)(5,"div"),e._uU(6),e.YNc(7,C,1,0,"nb-icon",5),e.qZA(),e.TgZ(8,"div",6),e._uU(9),e.ALo(10,"itemSubtext"),e.YNc(11,k,2,1,"span",7),e.qZA()()()()}if(2&n){const s=d.ngIf,r=e.oxw();e.Q6J("ngClass",e.VKq(16,y,!e.xi3(1,11,r.item,s))),e.xp6(2),e.hYB("src","../../../../assets/icons/",r.itemSize,"/",r.item.icon,".jpg",e.LSH),e.xp6(2),e.s9C("href",r.item.link,e.LSH),e.xp6(1),e.Gre("itemName q",r.item.quality,""),e.xp6(1),e.hij(" ",r.item.name," "),e.xp6(1),e.Q6J("ngIf",r.hardmode),e.xp6(2),e.hij(" ",e.lcZ(10,14,r.item)," "),e.xp6(2),e.Q6J("ngIf",r.showLevel)}}let W=(()=>{class n{constructor(s,r){this.tooltipService=s,this.filterStore=r,this.itemSize="large",this.hardmode=!1,this.showLevel=!1,this.class$=this.filterStore.class$}ngOnInit(){}onMouseEvent(s,r){this.tooltipService.onMouseEvent(s,r,this.item)}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(t.a),e.Y36(v.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-wow-item-lazy"]],inputs:{item:"item",itemSize:"itemSize",hardmode:"hardmode",showLevel:"showLevel"},decls:2,vars:3,consts:[["class","item",3,"ngClass",4,"ngIf"],[1,"item",3,"ngClass"],["loading","lazy",1,"itemIcon","border",3,"src"],[1,"itemText",3,"mousemove","mouseenter","mouseleave"],["target","_blank",3,"href"],["icon","flash-outline","status","warning",4,"ngIf"],[1,"itemSubText"],[4,"ngIf"],["icon","flash-outline","status","warning"]],template:function(s,r){1&s&&(e.YNc(0,I,12,18,"div",0),e.ALo(1,"async")),2&s&&e.Q6J("ngIf",e.lcZ(1,1,r.class$))},directives:[h.O5,h.mk,w.fMN],pipes:[c,h.Ov,f],styles:[".item[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;max-width:400px;overflow:visible}.itemTooltipBox[_ngcontent-%COMP%]{display:flex;gap:5px;max-width:400px;width:100%}.itemIcon[_ngcontent-%COMP%]{width:40px;height:40px}.itemIconBig[_ngcontent-%COMP%]{width:60px;height:60px}.itemText[_ngcontent-%COMP%]{padding-left:.5rem}.itemText[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.item[_ngcontent-%COMP%]:hover{background-color:#2e3a59;filter:brightness(100%)}.item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{filter:brightness(100%)}.itemName[_ngcontent-%COMP%]{font-size:larger}.itemSubText[_ngcontent-%COMP%]{color:#cd9f3a;font-size:small}.hardmode[_ngcontent-%COMP%]{display:inline-block;height:20px;width:20px;margin-bottom:-4px}nb-icon[_ngcontent-%COMP%]{font-size:18px}.inactive[_ngcontent-%COMP%]{filter:brightness(75%)}.inactive[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:brightness(50%)}"]}),n})()},3342:(O,b,g)=>{g.d(b,{e:()=>v});var e=g(8160),t=g(5e3);let v=(()=>{class h{constructor(){this.store=(0,e.MT)({name:"filter"},(0,e.vl)({faction:"Alliance",difficulty:"Normal",size:10,class:"all"})),this.state$=this.store.pipe((0,e.Ys)(c=>c)),this.faction$=this.store.pipe((0,e.Ys)(c=>c.faction)),this.difficulty$=this.store.pipe((0,e.Ys)(c=>c.difficulty)),this.size$=this.store.pipe((0,e.Ys)(c=>c.size)),this.class$=this.store.pipe((0,e.Ys)(c=>c.class))}updateFaction(c){this.store.update(m=>Object.assign(Object.assign({},m),{faction:c}))}updateDifficulty(c){this.store.update(m=>Object.assign(Object.assign({},m),{difficulty:c}))}updateSize(c){this.store.update(m=>Object.assign(Object.assign({},m),{size:c}))}updateClass(c){this.store.update(m=>Object.assign(Object.assign({},m),{class:c}))}getSize(){return this.store.getValue().size}}return h.\u0275fac=function(c){return new(c||h)},h.\u0275prov=t.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()}}]);